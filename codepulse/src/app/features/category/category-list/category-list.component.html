<div class="container">
    <h1 class="mt-3">Category List</h1>
    <div class="d-flex justify-content-between  mt-3">

        <div class="d-flex">
            <input type="text" class="form-control" #queryText>
            <button type="button" class="btn btn-warning ms-3" (click)="onSearch(queryText.value)">Search</button>

        </div>
        <a [routerLink]="['/admin/categories/add']" class="btn btn-primary">Add Category</a>
    </div> 

    <ng-container *ngIf="categories$ |async as categories">
    <table class="table table-bordered mt-3">
        <thead> 
            <tr>
                <th>Id</th>
                <th>Name
                    <span>
                        <button type="button" class="btn btn-light" (click)="sort('name')"> 
                            <i class="bi bi-arrow-up" *ngIf="sortBy !== 'name' || shortDirection !== 'asc'"></i>
                            <i class="bi bi-arrow-down" *ngIf="sortBy === 'name' && shortDirection === 'asc'"></i>
                        </button>
                    </span>
                </th>
                <th>Url Handle
                    <span>
                        <button type="button" class="btn btn-light" (click)="sort('urlHandle')"> 
                            <i class="bi bi-arrow-up" *ngIf="sortBy !== 'urlHandle' || shortDirection !== 'asc'"></i>
                            <i class="bi bi-arrow-down" *ngIf="sortBy === 'urlHandle' && shortDirection === 'asc'"></i>
                        </button>
                    </span>
                </th>
                
                

                <th></th>
            </tr>
        </thead>
        <tbody> 
            <tr *ngFor="let Category of categories"> 
                <td>{{Category.id}}</td>
                <td>{{Category.name}}</td>
                <td>{{Category.urlHandle}}</td>
                <td a class="btn btn-light" [routerLink]="['/admin/categories', Category.id]">Edit</td>
            </tr>
        </tbody>
    </table>

    <nav aria-label="Page navigation example">
        <ul class="pagination">
          <li class="page-item"><a class="page-link" (click)="getPrevPage()">Previous</a></li>
          <li *ngFor="let item of list; let index = index"   class="page-item"><a class="page-link"  (click)="getPage(index+1)">{{index+1}}</a></li>
         
          <li class="page-item"><a class="page-link"(click)="getNextPage()" >Next</a></li>
        </ul>
      </nav>
    </ng-container>
</div>